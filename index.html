<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VerseCurator - Complete Bible Study Platform</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ===== GLOBAL STYLES & CSS VARIABLES ===== */
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --text-color: #333;
            --bg-color: #fff;
            --card-bg: #f8f9fa;
            --border-radius: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --premium-color: #f1c40f;
            --church-color: #9b59b6;
            --api-color: #1abc9c;
        }

        .dark-mode {
            --primary-color: #34495e;
            --secondary-color: #2980b9;
            --accent-color: #c0392b;
            --light-color: #2c3e50;
            --dark-color: #ecf0f1;
            --text-color: #ecf0f1;
            --bg-color: #1a2530;
            --card-bg: #2c3e50;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
        }

        .sepia-mode {
            --primary-color: #5d4037;
            --secondary-color: #8d6e63;
            --accent-color: #d84315;
            --light-color: #efebe9;
            --dark-color: #4e342e;
            --text-color: #4e342e;
            --bg-color: #f9f5f0;
            --card-bg: #f0e6dd;
            --box-shadow: 0 4px 6px rgba(93, 64, 55, 0.1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            transition: var(--transition);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            width: 100%;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        /* ===== COMPONENT STYLES ===== */
        
        /* Header Styles */
        .app-header {
            background-color: var(--primary-color);
            color: white;
            padding: 1rem 0;
            box-shadow: var(--box-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
            width: 100%;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0;
        }

        .logo i {
            font-size: 1.8rem;
            color: var(--secondary-color);
        }

        .main-nav {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
            justify-content: center;
            flex: 1;
        }

        /* Button Styles */
        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: var(--border-radius);
            cursor: pointer;
            font-weight: 500;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .btn-primary {
            background-color: var(--secondary-color);
            color: white;
        }

        .btn-primary:hover {
            background-color: #2980b9;
            transform: translateY(-1px);
        }

        .btn-secondary {
            background-color: var(--light-color);
            color: var(--dark-color);
        }

        .btn-secondary:hover {
            background-color: #bdc3c7;
        }

        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--secondary-color);
            color: var(--secondary-color);
        }

        .btn-outline:hover {
            background-color: var(--secondary-color);
            color: white;
        }

        .nav-btn {
            background: transparent;
            color: white;
            border: 1px solid transparent;
            padding: 8px 12px;
            white-space: nowrap;
            font-size: 0.9rem;
        }

        .nav-btn.active {
            background-color: var(--secondary-color);
        }

        /* Card Styles */
        .card {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            padding: 20px;
            margin-bottom: 20px;
            transition: var(--transition);
            width: 100%;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            flex-wrap: wrap;
            gap: 10px;
        }

        /* View Management */
        .app-view {
            display: none;
            width: 100%;
        }

        .app-view.active {
            display: block;
        }

        /* Bible Reader Styles */
        .verse-display {
            font-size: 1.2rem;
            line-height: 1.8;
            margin: 20px 0;
            padding: 20px;
            background-color: rgba(0, 0, 0, 0.03);
            border-radius: var(--border-radius);
            border-left: 4px solid var(--secondary-color);
            width: 100%;
        }

        /* Search Styles */
        .search-container {
            margin: 20px 0;
            width: 100%;
        }

        .search-box {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            width: 100%;
            flex-wrap: wrap;
        }

        .search-box input {
            flex: 1;
            min-width: 200px;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-size: 1rem;
        }

        .search-results {
            max-height: 400px;
            overflow-y: auto;
            width: 100%;
        }

        .search-result-item {
            padding: 15px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: var(--transition);
            width: 100%;
        }

        .search-result-item:hover {
            background-color: rgba(0, 0, 0, 0.05);
        }

        /* Study Tools Styles */
        .tools-tabs {
            display: flex;
            gap: 5px;
            margin-bottom: 20px;
            border-bottom: 1px solid #ddd;
            flex-wrap: wrap;
            width: 100%;
        }

        .tab-btn {
            padding: 10px 15px;
            background: transparent;
            border: none;
            border-bottom: 2px solid transparent;
            cursor: pointer;
            transition: var(--transition);
            white-space: nowrap;
            font-size: 0.9rem;
        }

        .tab-btn.active {
            border-bottom-color: var(--secondary-color);
            color: var(--secondary-color);
        }

        .tab-content {
            display: none;
            width: 100%;
        }

        .tab-content.active {
            display: block;
        }

        /* Progress Bar */
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            margin: 10px 0;
            overflow: hidden;
            width: 100%;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--success-color);
            border-radius: 5px;
            transition: width 0.3s ease;
        }

        /* Stats */
        .history-stats {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            flex-wrap: wrap;
            gap: 15px;
            width: 100%;
        }

        .stat-item {
            text-align: center;
            flex: 1;
            min-width: 100px;
        }

        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: var(--secondary-color);
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.8;
        }

        /* Social Feed Styles */
        .feed-container {
            max-height: 600px;
            overflow-y: auto;
            width: 100%;
        }

        .feed-item {
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            margin-bottom: 15px;
            padding: 15px;
            transition: var(--transition);
            width: 100%;
        }

        .feed-item:hover {
            box-shadow: var(--box-shadow);
        }

        .feed-item-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            flex-shrink: 0;
        }

        .feed-actions {
            display: flex;
            gap: 15px;
            margin-top: 10px;
            flex-wrap: wrap;
        }

        .feed-action {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 5px 10px;
            border-radius: var(--border-radius);
            transition: var(--transition);
        }

        .feed-action:hover {
            background-color: rgba(0,0,0,0.05);
        }

        /* Groups & Church Styles */
        .groups-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 20px;
            margin: 20px 0;
            width: 100%;
        }

        .group-card {
            border: 1px solid #eee;
            border-radius: var(--border-radius);
            padding: 20px;
            transition: var(--transition);
            width: 100%;
        }

        .group-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--box-shadow);
        }

        .group-members {
            display: flex;
            margin: 10px 0;
        }

        .member-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #3498db;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 0.8rem;
            margin-right: -8px;
            border: 2px solid var(--card-bg);
            flex-shrink: 0;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-content {
            background-color: var(--card-bg);
            padding: 20px;
            border-radius: var(--border-radius);
            width: 100%;
            max-width: 500px;
            box-shadow: var(--box-shadow);
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        textarea, input[type="text"], input[type="password"], input[type="email"], select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: var(--border-radius);
            font-family: inherit;
            resize: vertical;
            background-color: var(--bg-color);
            color: var(--text-color);
            font-size: 1rem;
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success-color);
            color: white;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            z-index: 1000;
            box-shadow: var(--box-shadow);
            animation: slideIn 0.3s ease;
            max-width: 300px;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        /* Highlight Colors */
        .highlight-colors {
            display: flex;
            gap: 8px;
            margin: 10px 0;
            flex-wrap: wrap;
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid transparent;
            transition: var(--transition);
            flex-shrink: 0;
        }

        .color-option.active {
            border-color: var(--dark-color);
            transform: scale(1.1);
        }

        .color-yellow { background-color: #f1c40f; }
        .color-blue { background-color: #3498db; }
        .color-green { background-color: #2ecc71; }
        .color-pink { background-color: #e84393; }
        .color-orange { background-color: #e67e22; }

        /* Mobile App Promo */
        .mobile-promo {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px;
            border-radius: var(--border-radius);
            text-align: center;
            margin: 20px 0;
            width: 100%;
        }

        .app-badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .app-badge {
            background: white;
            color: #333;
            padding: 12px 24px;
            border-radius: var(--border-radius);
            font-weight: bold;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .app-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }

        /* ===== PHASE 5 STYLES ===== */
        
        /* Premium Badge */
        .premium-badge {
            background: linear-gradient(135deg, var(--premium-color), #e67e22);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 5px;
            display: inline-block;
        }

        .church-badge {
            background: linear-gradient(135deg, var(--church-color), #8e44ad);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 5px;
            display: inline-block;
        }

        .api-badge {
            background: linear-gradient(135deg, var(--api-color), #16a085);
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.7rem;
            font-weight: bold;
            margin-left: 5px;
            display: inline-block;
        }

        .premium-feature {
            position: relative;
            overflow: hidden;
        }

        .premium-feature::after {
            content: "PREMIUM";
            position: absolute;
            top: 10px;
            right: -30px;
            background: var(--premium-color);
            color: var(--dark-color);
            padding: 3px 30px;
            font-size: 0.7rem;
            font-weight: bold;
            transform: rotate(45deg);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }

        /* API Documentation Styles */
        .api-section {
            margin-bottom: 30px;
            width: 100%;
        }

        .api-endpoint {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 15px;
            margin: 10px 0;
            border-left: 4px solid var(--api-color);
            width: 100%;
        }

        .api-method {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 4px;
            color: white;
            font-weight: bold;
            margin-right: 10px;
            min-width: 60px;
            text-align: center;
        }

        .api-get { background-color: var(--success-color); }
        .api-post { background-color: var(--secondary-color); }
        .api-put { background-color: var(--warning-color); }
        .api-delete { background-color: var(--danger-color); }

        .code-block {
            background-color: var(--dark-color);
            color: var(--light-color);
            padding: 15px;
            border-radius: var(--border-radius);
            font-family: monospace;
            overflow-x: auto;
            margin: 10px 0;
            width: 100%;
        }

        /* Church Management Styles */
        .church-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
            width: 100%;
        }

        .church-stat {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 20px;
            text-align: center;
            box-shadow: var(--box-shadow);
            width: 100%;
        }

        .church-stat-value {
            font-size: 2rem;
            font-weight: bold;
            color: var(--church-color);
            margin: 10px 0;
        }

        /* Global Community Styles */
        .global-map {
            height: 300px;
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            margin: 20px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--text-color);
            font-weight: bold;
            background-image: linear-gradient(rgba(0,0,0,0.1), rgba(0,0,0,0.1)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%233498db" d="M50 0C30 0 20 20 20 50s10 50 30 50 30-20 30-50S70 0 50 0zm0 80c-15 0-25-10-25-30s10-30 25-30 25 10 25 30-10 30-25 30z"/></svg>');
            background-size: cover;
            width: 100%;
        }

        .language-selector {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin: 15px 0;
            width: 100%;
        }

        .language-option {
            padding: 8px 15px;
            border: 1px solid var(--secondary-color);
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
        }

        .language-option.active {
            background-color: var(--secondary-color);
            color: white;
        }

        /* Pricing Table Styles */
        .pricing-table {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin: 30px 0;
            width: 100%;
        }

        .pricing-plan {
            background-color: var(--card-bg);
            border-radius: var(--border-radius);
            padding: 25px;
            text-align: center;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            position: relative;
            width: 100%;
        }

        .pricing-plan.featured {
            border: 2px solid var(--premium-color);
            transform: scale(1.05);
        }

        .pricing-plan:hover {
            transform: translateY(-5px);
        }

        .pricing-plan.featured:hover {
            transform: scale(1.05) translateY(-5px);
        }

        .plan-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .plan-price {
            font-size: 2.5rem;
            font-weight: bold;
            margin: 15px 0;
            color: var(--secondary-color);
        }

        .plan-features {
            list-style: none;
            padding: 0;
            margin: 20px 0;
            text-align: left;
        }

        .plan-features li {
            padding: 8px 0;
            border-bottom: 1px solid rgba(0,0,0,0.1);
        }

        .plan-features li:last-child {
            border-bottom: none;
        }

        .plan-features li i {
            color: var(--success-color);
            margin-right: 10px;
        }

        /* Footer */
        .app-footer {
            background-color: var(--primary-color);
            color: white;
            padding: 20px 0;
            margin-top: 40px;
            text-align: center;
            width: 100%;
        }

        .footer-content {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Theme Previews */
        .theme-previews {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 15px 0;
            width: 100%;
        }

        .theme-preview {
            height: 60px;
            border-radius: var(--border-radius);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .theme-preview.active {
            border-color: var(--secondary-color);
            transform: scale(1.05);
        }

        .theme-1 { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
        .theme-2 { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
        .theme-3 { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .container {
                padding: 15px;
            }
            
            .header-content {
                padding: 0 15px;
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                padding: 0 10px;
            }
            
            .main-nav {
                width: 100%;
                justify-content: center;
            }
            
            .tools-tabs {
                justify-content: center;
            }
            
            .theme-previews {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .history-stats {
                flex-direction: column;
                align-items: center;
            }
            
            .nav-btn {
                padding: 6px 10px;
                font-size: 0.85rem;
            }

            .groups-grid {
                grid-template-columns: 1fr;
            }

            .app-badges {
                flex-direction: column;
                align-items: center;
            }

            .card {
                padding: 15px;
            }

            .verse-display {
                padding: 15px;
                font-size: 1.1rem;
            }

            .pricing-table {
                grid-template-columns: 1fr;
            }

            .pricing-plan.featured {
                transform: none;
            }

            .pricing-plan.featured:hover {
                transform: translateY(-5px);
            }

            .church-dashboard {
                grid-template-columns: repeat(2, 1fr);
            }

            .premium-features-grid {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 480px) {
            .main-nav {
                gap: 3px;
            }
            
            .nav-btn {
                padding: 5px 8px;
                font-size: 0.8rem;
            }
            
            .logo h1 {
                font-size: 1.2rem;
            }

            .church-dashboard {
                grid-template-columns: 1fr;
            }

            .header-controls {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
                justify-content: center;
            }

            .verse-actions {
                flex-direction: column;
            }

            .verse-actions .btn {
                width: 100%;
                justify-content: center;
            }

            .navigation-controls {
                flex-direction: column;
                gap: 10px;
            }

            .navigation-controls .btn {
                width: 100%;
            }
        }

        /* Utility Classes */
        .text-center { text-align: center; }
        .text-muted { color: #666; opacity: 0.8; }
        .mt-1 { margin-top: 10px; }
        .mt-2 { margin-top: 20px; }
        .mb-1 { margin-bottom: 10px; }
        .mb-2 { margin-bottom: 20px; }
        .hidden { display: none; }

        /* Dark mode specific adjustments */
        .dark-mode .verse-display {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .dark-mode .search-result-item:hover {
            background-color: rgba(255, 255, 255, 0.05);
        }

        .dark-mode .feed-item {
            border-color: #444;
        }

        .dark-mode .notification-item {
            border-color: #444;
        }

        .dark-mode .code-block {
            background-color: #1a1a1a;
        }
    </style>
</head>
<body>
    <!-- ===== HEADER COMPONENT ===== -->
    <header class="app-header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-book-bible"></i>
                <h1>VerseCurator</h1>
            </div>
            <nav class="main-nav">
                <button class="btn nav-btn active" data-view="bible-reader">
                    <i class="fas fa-book-open"></i> Read
                </button>
                <button class="btn nav-btn" data-view="search">
                    <i class="fas fa-search"></i> Search
                </button>
                <button class="btn nav-btn" data-view="study-tools">
                    <i class="fas fa-tools"></i> Study
                </button>
                <button class="btn nav-btn" data-view="community">
                    <i class="fas fa-users"></i> Community
                </button>
                <button class="btn nav-btn" data-view="premium">
                    <i class="fas fa-crown"></i> Premium
                </button>
            </nav>
            <div class="header-controls">
                <button class="btn btn-secondary" id="modeToggle">
                    <i class="fas fa-moon"></i> Theme
                </button>
                <button class="btn btn-outline" id="userMenuBtn">
                    <i class="fas fa-user"></i> Account
                </button>
            </div>
        </div>
    </header>

    <!-- ===== MAIN APP CONTAINER ===== -->
    <div class="container">
        <!-- Bible Reader View -->
        <section id="bible-reader" class="app-view active">
            <div class="card">
                <div class="card-header">
                    <h2>Bible Reader</h2>
                    <div class="reader-controls">
                        <select id="versionSelect">
                            <option value="niv">NIV</option>
                            <option value="esv">ESV</option>
                            <option value="kjv">KJV</option>
                            <option value="nasb">NASB</option>
                            <option value="nlt">NLT</option>
                            <option value="csv">CSV</option>
                            <option value="rsv">RSV</option>
                            <option value="amp">AMP</option>
                        </select>
                    </div>
                </div>
                
                <div class="navigation-controls">
                    <button class="btn btn-outline" id="prevChapter">
                        <i class="fas fa-chevron-left"></i> Previous
                    </button>
                    <span id="currentReference" class="verse-reference">John 3:16</span>
                    <button class="btn btn-outline" id="nextChapter">
                        Next <i class="fas fa-chevron-right"></i>
                    </button>
                </div>

                <div class="verse-display">
                    <p id="verseText">For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.</p>
                </div>

                <div class="tool-options">
                    <span style="font-weight: 500;">Highlight Color:</span>
                    <div class="highlight-colors">
                        <div class="color-option color-yellow active" data-color="yellow"></div>
                        <div class="color-option color-blue" data-color="blue"></div>
                        <div class="color-option color-green" data-color="green"></div>
                        <div class="color-option color-pink" data-color="pink"></div>
                        <div class="color-option color-orange" data-color="orange"></div>
                    </div>
                </div>

                <div class="verse-actions">
                    <button class="btn btn-outline" id="addHighlight">
                        <i class="fas fa-highlighter"></i> Highlight
                    </button>
                    <button class="btn btn-outline" id="addNote">
                        <i class="fas fa-sticky-note"></i> Add Note
                    </button>
                    <button class="btn btn-outline" id="shareVerse">
                        <i class="fas fa-share"></i> Share
                    </button>
                    <button class="btn btn-primary" id="playAudio">
                        <i class="fas fa-volume-up"></i> Play Audio
                    </button>
                </div>
            </div>

            <!-- Reading Stats -->
            <div class="card">
                <h3>Your Reading Progress</h3>
                <div class="history-stats">
                    <div class="stat-item">
                        <div class="stat-value">28</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">65%</div>
                        <div class="stat-label">Plan Complete</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">42</div>
                        <div class="stat-label">Verses Highlighted</div>
                    </div>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: 65%"></div>
                </div>
                <p class="text-muted mt-1">You're 65% through your "Bible in a Year" plan</p>
            </div>

            <!-- Mobile App Promotion -->
            <div class="mobile-promo">
                <h3>Get the VerseCurator Mobile App!</h3>
                <p>Take your Bible study on the go with push notifications, offline reading, and more.</p>
                <div class="app-badges">
                    <div class="app-badge" onclick="VerseCuratorApp.mobileApp.download('ios')">
                        <i class="fab fa-apple"></i> App Store
                    </div>
                    <div class="app-badge" onclick="VerseCuratorApp.mobileApp.download('android')">
                        <i class="fab fa-google-play"></i> Google Play
                    </div>
                </div>
            </div>
        </section>

        <!-- Search View -->
        <section id="search" class="app-view">
            <div class="card">
                <h2>Search Bible</h2>
                <div class="search-container">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="Search for verses, keywords...">
                        <button class="btn btn-primary" id="searchButton">
                            <i class="fas fa-search"></i> Search
                        </button>
                    </div>
                    <div class="search-results" id="searchResults">
                        <p class="text-center text-muted">Enter a search term to find Bible verses</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Study Tools View -->
        <section id="study-tools" class="app-view">
            <div class="card">
                <h2>Study Tools</h2>
                
                <div class="tools-tabs">
                    <button class="tab-btn active" data-tab="reading-plans">Reading Plans</button>
                    <button class="tab-btn" data-tab="notes">My Notes</button>
                    <button class="tab-btn" data-tab="highlights">Highlights</button>
                    <button class="tab-btn" data-tab="audio">Audio Bible</button>
                </div>

                <!-- Reading Plans Tab -->
                <div class="tab-content active" id="reading-plans-content">
                    <div class="plan-card card">
                        <h3>Bible in a Year</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 65%"></div>
                        </div>
                        <p><strong>65% complete</strong> • 28 day streak</p>
                        <button class="btn btn-primary">Continue Reading</button>
                    </div>
                    
                    <div class="plan-card card">
                        <h3>New Testament in 90 Days</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 30%"></div>
                        </div>
                        <p><strong>30% complete</strong> • 15 day streak</p>
                        <button class="btn btn-outline">Resume Plan</button>
                    </div>

                    <div class="plan-card card">
                        <h3>Psalms & Proverbs</h3>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <p><strong>45% complete</strong> • 7 day streak</p>
                        <button class="btn btn-outline">Resume Plan</button>
                    </div>
                </div>

                <!-- Notes Tab -->
                <div class="tab-content" id="notes-content">
                    <div class="notes-list" id="notesListContainer">
                        <p class="text-center text-muted">No notes yet. Create your first note!</p>
                    </div>
                    <button class="btn btn-primary" id="createNewNote">
                        <i class="fas fa-plus"></i> New Note
                    </button>
                </div>

                <!-- Highlights Tab -->
                <div class="tab-content" id="highlights-content">
                    <div class="highlights-list" id="highlightsListContainer">
                        <p class="text-center text-muted">No highlights yet. Highlight verses to see them here!</p>
                    </div>
                </div>

                <!-- Audio Bible Tab -->
                <div class="tab-content" id="audio-content">
                    <div class="audio-player card">
                        <h3>Audio Bible</h3>
                        <div class="player-controls">
                            <button class="btn btn-secondary" id="audioPrev">
                                <i class="fas fa-step-backward"></i>
                            </button>
                            <button class="btn btn-primary" id="audioPlayPause">
                                <i class="fas fa-play"></i>
                            </button>
                            <button class="btn btn-secondary" id="audioNext">
                                <i class="fas fa-step-forward"></i>
                            </button>
                        </div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 45%"></div>
                        </div>
                        <p class="text-center text-muted mt-1">John 3:16 - For God so loved the world...</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Community View -->
        <section id="community" class="app-view">
            <div class="card">
                <h2>Community Feed</h2>
                
                <div class="community-tabs">
                    <button class="tab-btn active" data-tab="feed">Verse Feed</button>
                    <button class="tab-btn" data-tab="profile">My Profile</button>
                    <button class="tab-btn" data-tab="discover">Discover</button>
                </div>

                <!-- Feed Tab -->
                <div class="tab-content active" id="feed-content">
                    <div class="feed-container" id="feedContainer">
                        <div class="feed-item">
                            <div class="feed-item-header">
                                <div class="user-avatar">JS</div>
                                <div>
                                    <h4>John Smith</h4>
                                    <p class="text-muted">2 hours ago</p>
                                </div>
                            </div>
                            <p>Shared a verse: <strong>Philippians 4:13</strong></p>
                            <div class="verse-display">
                                "I can do all this through him who gives me strength."
                            </div>
                            <div class="feed-actions">
                                <div class="feed-action">
                                    <i class="fas fa-heart"></i> <span>24</span>
                                </div>
                                <div class="feed-action">
                                    <i class="fas fa-comment"></i> <span>5</span>
                                </div>
                                <div class="feed-action">
                                    <i class="fas fa-share"></i> <span>Share</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="feed-item">
                            <div class="feed-item-header">
                                <div class="user-avatar">MJ</div>
                                <div>
                                    <h4>Mary Johnson</h4>
                                    <p class="text-muted">5 hours ago</p>
                                </div>
                            </div>
                            <p>Created a new study group: <strong>Women in the Word</strong></p>
                            <p class="text-muted">Join us as we explore the stories of women in the Bible and their impact.</p>
                            <div class="feed-actions">
                                <div class="feed-action">
                                    <i class="fas fa-users"></i> <span>12 members</span>
                                </div>
                                <div class="feed-action">
                                    <i class="fas fa-plus"></i> <span>Join Group</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="create-post">
                        <textarea placeholder="Share a verse or thought with the community..." rows="3"></textarea>
                        <div class="modal-actions">
                            <button class="btn btn-primary">Post</button>
                        </div>
                    </div>
                </div>

                <!-- Profile Tab -->
                <div class="tab-content" id="profile-content">
                    <div class="profile-card card">
                        <div class="profile-header">
                            <div class="user-avatar">YU</div>
                            <div>
                                <h3>Your Username</h3>
                                <p class="text-muted">Member since 2025</p>
                            </div>
                        </div>
                        
                        <div class="history-stats">
                            <div class="stat-item">
                                <div class="stat-value">42</div>
                                <div class="stat-label">Verses Shared</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">18</div>
                                <div class="stat-label">Notes Created</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-value">7</div>
                                <div class="stat-label">Groups Joined</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <h3>Your Activity</h3>
                        <div class="activity-list">
                            <div class="activity-item">
                                <p><strong>You highlighted</strong> John 3:16</p>
                                <p class="text-muted">Yesterday</p>
                            </div>
                            <div class="activity-item">
                                <p><strong>You joined</strong> Bible Study Group</p>
                                <p class="text-muted">3 days ago</p>
                            </div>
                            <div class="activity-item">
                                <p><strong>You completed</strong> Genesis Reading Plan</p>
                                <p class="text-muted">1 week ago</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Discover Tab -->
                <div class="tab-content" id="discover-content">
                    <div class="card">
                        <h3>Popular Groups</h3>
                        <div class="groups-grid">
                            <div class="group-card">
                                <h4>Bible Study for Beginners</h4>
                                <p>Perfect for those new to Bible study</p>
                                <div class="group-members">
                                    <div class="member-avatar">A</div>
                                    <div class="member-avatar">B</div>
                                    <div class="member-avatar">C</div>
                                    <div class="member-avatar">+25</div>
                                </div>
                                <button class="btn btn-outline mt-1">Join Group</button>
                            </div>
                            
                            <div class="group-card">
                                <h4>Women of Faith</h4>
                                <p>Support and study for Christian women</p>
                                <div class="group-members">
                                    <div class="member-avatar">D</div>
                                    <div class="member-avatar">E</div>
                                    <div class="member-avatar">F</div>
                                    <div class="member-avatar">+42</div>
                                </div>
                                <button class="btn btn-outline mt-1">Join Group</button>
                            </div>
                            
                            <div class="group-card">
                                <h4>Daily Devotionals</h4>
                                <p>Share and discuss daily devotionals</p>
                                <div class="group-members">
                                    <div class="member-avatar">G</div>
                                    <div class="member-avatar">H</div>
                                    <div class="member-avatar">I</div>
                                    <div class="member-avatar">+38</div>
                                </div>
                                <button class="btn btn-outline mt-1">Join Group</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- PREMIUM FEATURES VIEW -->
        <section id="premium" class="app-view">
            <!-- Premium Features Section -->
            <div class="card">
                <h2>Premium Features <span class="premium-badge">PRO</span></h2>
                <p class="text-muted">Unlock advanced Bible study tools and features with VerseCurator Premium</p>
                
                <div class="premium-features-grid">
                    <div class="premium-feature card">
                        <h3><i class="fas fa-book"></i> Advanced Study Library</h3>
                        <p>Access to commentaries, dictionaries, and original language tools</p>
                    </div>
                    
                    <div class="premium-feature card">
                        <h3><i class="fas fa-download"></i> Offline Reading</h3>
                        <p>Download entire Bible versions and study materials for offline use</p>
                    </div>
                    
                    <div class="premium-feature card">
                        <h3><i class="fas fa-cross"></i> Cross-References</h3>
                        <p>Advanced cross-reference system with theological connections</p>
                    </div>
                    
                    <div class="premium-feature card">
                        <h3><i class="fas fa-chart-bar"></i> Advanced Analytics</h3>
                        <p>Track your reading habits and spiritual growth with detailed insights</p>
                    </div>
                    
                    <div class="premium-feature card">
                        <h3><i class="fas fa-palette"></i> Custom Themes</h3>
                        <p>Personalize your reading experience with custom color schemes</p>
                    </div>
                    
                    <div class="premium-feature card">
                        <h3><i class="fas fa-shield-alt"></i> Ad-Free Experience</h3>
                        <p>Enjoy an uninterrupted Bible study without advertisements</p>
                    </div>
                </div>
            </div>

            <!-- Developer API Section -->
            <div class="card">
                <h2>Developer API <span class="api-badge">API</span></h2>
                <p class="text-muted">Integrate VerseCurator's Bible data and features into your own applications</p>
                
                <div class="api-section">
                    <h3>API Endpoints</h3>
                    
                    <div class="api-endpoint">
                        <div class="api-header">
                            <span class="api-method api-get">GET</span>
                            <code>/api/v1/verses/{book}/{chapter}/{verse}</code>
                        </div>
                        <p>Retrieve a specific Bible verse in multiple translations</p>
                        <div class="code-block">
                            // Example request<br>
                            GET /api/v1/verses/john/3/16?version=niv
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        <div class="api-header">
                            <span class="api-method api-get">GET</span>
                            <code>/api/v1/search</code>
                        </div>
                        <p>Search across Bible translations for keywords or phrases</p>
                        <div class="code-block">
                            // Example request<br>
                            GET /api/v1/search?q=love&version=all&limit=10
                        </div>
                    </div>
                    
                    <div class="api-endpoint">
                        <div class="api-header">
                            <span class="api-method api-post">POST</span>
                            <code>/api/v1/highlights</code>
                        </div>
                        <p>Create or update user highlights (requires authentication)</p>
                        <div class="code-block">
                            // Example request<br>
                            POST /api/v1/highlights<br>
                            {<br>
                            &nbsp;&nbsp;"verse": "John 3:16",<br>
                            &nbsp;&nbsp;"color": "yellow",<br>
                            &nbsp;&nbsp;"note": "God's love for the world"<br>
                            }
                        </div>
                    </div>
                    
                    <button class="btn btn-primary" onclick="VerseCuratorApp.api.getKey()">
                        <i class="fas fa-key"></i> Get API Key
                    </button>
                </div>
            </div>

            <!-- Church Management Tools -->
            <div class="card">
                <h2>Church Management Tools <span class="church-badge">CHURCH</span></h2>
                <p class="text-muted">Tools designed specifically for churches and ministry groups</p>
                
                <div class="church-dashboard">
                    <div class="church-stat">
                        <h3>Members</h3>
                        <div class="church-stat-value">247</div>
                        <p>Active members</p>
                    </div>
                    
                    <div class="church-stat">
                        <h3>Groups</h3>
                        <div class="church-stat-value">18</div>
                        <p>Active small groups</p>
                    </div>
                    
                    <div class="church-stat">
                        <h3>Engagement</h3>
                        <div class="church-stat-value">73%</div>
                        <p>Weekly engagement rate</p>
                    </div>
                    
                    <div class="church-stat">
                        <h3>Reading</h3>
                        <div class="church-stat-value">1,284</div>
                        <p>Verses read this week</p>
                    </div>
                </div>
                
                <div class="church-tools">
                    <div class="card">
                        <h3><i class="fas fa-calendar-alt"></i> Event Management</h3>
                        <p>Schedule and manage church events and services</p>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fas fa-user-friends"></i> Member Directory</h3>
                        <p>Secure directory of church members and leaders</p>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fas fa-chart-line"></i> Growth Analytics</h3>
                        <p>Track engagement and spiritual growth metrics</p>
                    </div>
                    
                    <div class="card">
                        <h3><i class="fas fa-bullhorn"></i> Announcements</h3>
                        <p>Send announcements to your congregation</p>
                    </div>
                </div>
            </div>

            <!-- Global Community Features -->
            <div class="card">
                <h2>Global Community <span class="premium-badge">GLOBAL</span></h2>
                <p class="text-muted">Connect with believers around the world</p>
                
                <div class="global-map">
                    <i class="fas fa-globe-americas"></i>
                    <div>
                        <h3>Interactive Global Map</h3>
                        <p>See where VerseCurator users are studying around the world</p>
                    </div>
                </div>
                
                <div class="language-selector">
                    <div class="language-option active">English</div>
                    <div class="language-option">Español</div>
                    <div class="language-option">Français</div>
                    <div class="language-option">Português</div>
                    <div class="language-option">中文</div>
                    <div class="language-option">العربية</div>
                    <div class="language-option">+12 more</div>
                </div>
                
                <div class="global-stats">
                    <div class="stat-item">
                        <div class="stat-value">42K</div>
                        <div class="stat-label">Users Worldwide</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">156</div>
                        <div class="stat-label">Countries</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value">18</div>
                        <div class="stat-label">Languages</div>
                    </div>
                </div>
            </div>

            <!-- Pricing Table -->
            <div class="card">
                <h2>Choose Your Plan</h2>
                <p class="text-muted">Select the plan that works best for you or your church</p>
                
                <div class="pricing-table">
                    <div class="pricing-plan">
                        <div class="plan-name">Free</div>
                        <div class="plan-price">$0</div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check"></i> Basic Bible Reading</li>
                            <li><i class="fas fa-check"></i> Limited Highlights</li>
                            <li><i class="fas fa-check"></i> Community Access</li>
                            <li><i class="fas fa-times"></i> Advanced Study Tools</li>
                            <li><i class="fas fa-times"></i> Offline Reading</li>
                            <li><i class="fas fa-times"></i> Ad-Free Experience</li>
                        </ul>
                        <button class="btn btn-outline">Current Plan</button>
                    </div>
                    
                    <div class="pricing-plan featured">
                        <div class="plan-name">Premium</div>
                        <div class="plan-price">$4.99<span>/month</span></div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check"></i> All Free Features</li>
                            <li><i class="fas fa-check"></i> Advanced Study Tools</li>
                            <li><i class="fas fa-check"></i> Unlimited Highlights</li>
                            <li><i class="fas fa-check"></i> Offline Reading</li>
                            <li><i class="fas fa-check"></i> Ad-Free Experience</li>
                            <li><i class="fas fa-check"></i> Custom Themes</li>
                        </ul>
                        <button class="btn btn-primary" onclick="VerseCuratorApp.premium.upgrade('premium')">Upgrade Now</button>
                    </div>
                    
                    <div class="pricing-plan">
                        <div class="plan-name">Church</div>
                        <div class="plan-price">$49.99<span>/month</span></div>
                        <ul class="plan-features">
                            <li><i class="fas fa-check"></i> All Premium Features</li>
                            <li><i class="fas fa-check"></i> Church Management Tools</li>
                            <li><i class="fas fa-check"></i> Group Analytics</li>
                            <li><i class="fas fa-check"></i> Member Management</li>
                            <li><i class="fas fa-check"></i> Event Scheduling</li>
                            <li><i class="fas fa-check"></i> Dedicated Support</li>
                        </ul>
                        <button class="btn btn-outline" onclick="VerseCuratorApp.premium.upgrade('church')">Contact Sales</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- ===== FOOTER ===== -->
    <footer class="app-footer">
        <div class="footer-content">
            <p>&copy; 2025 VerseCurator. All rights reserved.</p>
            <p class="text-muted">Your complete Bible study platform</p>
        </div>
    </footer>

    <!-- ===== MODALS ===== -->
    <!-- Note Creation Modal -->
    <div class="modal" id="noteModal">
        <div class="modal-content">
            <h3>Add Note</h3>
            <textarea id="noteText" placeholder="Write your note here..." rows="5"></textarea>
            <div class="modal-actions">
                <button class="btn btn-secondary" id="cancelNote">Cancel</button>
                <button class="btn btn-primary" id="saveNote">Save Note</button>
            </div>
        </div>
    </div>

    <!-- User Menu Modal -->
    <div class="modal" id="userMenuModal">
        <div class="modal-content">
            <h3>Account</h3>
            <div class="user-info">
                <div class="user-avatar">YU</div>
                <div>
                    <h4>Your Username</h4>
                    <p class="text-muted">Free Plan • Member since 2025</p>
                </div>
            </div>
            
            <div class="user-actions">
                <button class="btn btn-outline">
                    <i class="fas fa-user-edit"></i> Edit Profile
                </button>
                <button class="btn btn-outline">
                    <i class="fas fa-bell"></i> Notification Settings
                </button>
                <button class="btn btn-outline">
                    <i class="fas fa-shield-alt"></i> Privacy & Security
                </button>
                <button class="btn btn-primary" onclick="VerseCuratorApp.premium.upgrade('premium')">
                    <i class="fas fa-crown"></i> Upgrade to Premium
                </button>
            </div>
            
            <div class="modal-actions">
                <button class="btn btn-secondary" id="closeUserMenu">Close</button>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="modal" id="shareModal">
        <div class="modal-content">
            <h3>Share Verse</h3>
            <div class="sharing-options">
                <div class="option-group">
                    <label class="option-label">
                        <input type="checkbox" id="privacyToggle" checked>
                        <span>Text Sharing Privacy (Single Hidden Link)</span>
                    </label>
                    <small class="text-muted">When enabled, receivers see only one clean link without app references</small>
                </div>
                
                <div class="option-group">
                    <label class="option-label">
                        <input type="checkbox" id="attributionToggle">
                        <span>Include Attribution on Shared Images</span>
                    </label>
                    <small class="text-muted">Toggle to show/hide "Shared via VerseCurator" on image shares</small>
                </div>
                
                <div class="theme-selection">
                    <h3>Image Theme</h3>
                    <div class="theme-previews">
                        <div class="theme-preview theme-1 active" data-theme="1">Theme 1</div>
                        <div class="theme-preview theme-2" data-theme="2">Theme 2</div>
                        <div class="theme-preview theme-3" data-theme="3">Theme 3</div>
                    </div>
                </div>

                <div class="social-sharing">
                    <h3>Share to Social Media</h3>
                    <div class="social-buttons">
                        <button class="btn facebook-btn" onclick="VerseCuratorApp.share.facebook()">
                            <i class="fab fa-facebook"></i> Facebook
                        </button>
                        <button class="btn twitter-btn" onclick="VerseCuratorApp.share.twitter()">
                            <i class="fab fa-twitter"></i> Twitter
                        </button>
                        <button class="btn instagram-btn" onclick="VerseCuratorApp.share.instagram()">
                            <i class="fab fa-instagram"></i> Instagram
                        </button>
                    </div>
                </div>
                
                <div class="sharing-actions">
                    <button class="btn btn-primary" id="shareTextBtn">
                        <i class="fas fa-share-alt"></i> Share as Text
                    </button>
                    <button class="btn btn-secondary" id="shareImageBtn">
                        <i class="fas fa-image"></i> Share as Image
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ===== NOTIFICATION AREA ===== -->
    <div id="notificationArea"></div>

    <script>
        // ===== VERSE CURATOR APP =====
        const VerseCuratorApp = {
            // App State
            state: {
                currentView: 'bible-reader',
                currentBook: 'John',
                currentChapter: 3,
                currentVerse: 16,
                currentVersion: 'niv',
                notes: [],
                highlights: [],
                user: {
                    name: 'Your Username',
                    streak: 28,
                    plan: 'free',
                    joinYear: 2025
                },
                theme: 'light',
                fontSize: 'medium'
            },

            // Bible data for navigation
            bibleData: {
                books: [
                    'Genesis', 'Exodus', 'Leviticus', 'Numbers', 'Deuteronomy',
                    'Joshua', 'Judges', 'Ruth', '1 Samuel', '2 Samuel',
                    '1 Kings', '2 Kings', '1 Chronicles', '2 Chronicles', 'Ezra',
                    'Nehemiah', 'Esther', 'Job', 'Psalms', 'Proverbs',
                    'Ecclesiastes', 'Song of Solomon', 'Isaiah', 'Jeremiah', 'Lamentations',
                    'Ezekiel', 'Daniel', 'Hosea', 'Joel', 'Amos',
                    'Obadiah', 'Jonah', 'Micah', 'Nahum', 'Habakkuk',
                    'Zephaniah', 'Haggai', 'Zechariah', 'Malachi', 'Matthew',
                    'Mark', 'Luke', 'John', 'Acts', 'Romans',
                    '1 Corinthians', '2 Corinthians', 'Galatians', 'Ephesians', 'Philippians',
                    'Colossians', '1 Thessalonians', '2 Thessalonians', '1 Timothy', '2 Timothy',
                    'Titus', 'Philemon', 'Hebrews', 'James', '1 Peter',
                    '2 Peter', '1 John', '2 John', '3 John', 'Jude', 'Revelation'
                ],
                chapters: {
                    'John': 21,
                    'Matthew': 28,
                    'Mark': 16,
                    'Luke': 24,
                    'Acts': 28,
                    'Romans': 16,
                    '1 Corinthians': 16,
                    'Galatians': 6,
                    'Ephesians': 6,
                    'Philippians': 4,
                    'Colossians': 4,
                    '1 Thessalonians': 5,
                    '2 Thessalonians': 3,
                    '1 Timothy': 6,
                    '2 Timothy': 4,
                    'Titus': 3,
                    'Philemon': 1,
                    'Hebrews': 13,
                    'James': 5,
                    '1 Peter': 5,
                    '2 Peter': 3,
                    '1 John': 5,
                    '2 John': 1,
                    '3 John': 1,
                    'Jude': 1,
                    'Revelation': 22
                }
            },

            // Initialize the app
            init: function() {
                this.bindEvents();
                this.loadUserData();
                this.updateUI();
                console.log('VerseCurator initialized');
            },

            // Bind all event listeners
            bindEvents: function() {
                // Navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const view = e.currentTarget.getAttribute('data-view');
                        this.switchView(view);
                    });
                });

                // Tab navigation
                document.querySelectorAll('.tab-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const tab = e.currentTarget.getAttribute('data-tab');
                        this.switchTab(tab, e.currentTarget.closest('.app-view'));
                    });
                });

                // Theme toggle
                document.getElementById('modeToggle').addEventListener('click', () => {
                    this.toggleTheme();
                });

                // User menu
                document.getElementById('userMenuBtn').addEventListener('click', () => {
                    document.getElementById('userMenuModal').style.display = 'flex';
                });

                document.getElementById('closeUserMenu').addEventListener('click', () => {
                    document.getElementById('userMenuModal').style.display = 'none';
                });

                // Bible navigation
                document.getElementById('prevChapter').addEventListener('click', () => {
                    this.previousChapter();
                });
                
                document.getElementById('nextChapter').addEventListener('click', () => {
                    this.nextChapter();
                });

                // Version selection
                document.getElementById('versionSelect').addEventListener('change', (e) => {
                    this.state.currentVersion = e.target.value;
                    this.updateVerseDisplay();
                });

                // Highlight colors
                document.querySelectorAll('.color-option').forEach(option => {
                    option.addEventListener('click', (e) => {
                        document.querySelectorAll('.color-option').forEach(opt => {
                            opt.classList.remove('active');
                        });
                        e.currentTarget.classList.add('active');
                    });
                });

                // Note creation
                document.getElementById('addNote').addEventListener('click', () => {
                    this.openNoteModal();
                });

                document.getElementById('cancelNote').addEventListener('click', () => {
                    this.closeNoteModal();
                });

                document.getElementById('saveNote').addEventListener('click', () => {
                    this.saveNote();
                });

                // Search functionality
                document.getElementById('searchButton').addEventListener('click', () => {
                    this.performSearch();
                });

                document.getElementById('searchInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') {
                        this.performSearch();
                    }
                });

                // Audio player
                document.getElementById('audioPlayPause').addEventListener('click', () => {
                    this.toggleAudio();
                });

                // Share functionality
                document.getElementById('shareVerse').addEventListener('click', () => {
                    this.openShareModal();
                });

                document.getElementById('shareTextBtn').addEventListener('click', () => {
                    this.shareAsText();
                });

                document.getElementById('shareImageBtn').addEventListener('click', () => {
                    this.shareAsImage();
                });

                // Highlight functionality
                document.getElementById('addHighlight').addEventListener('click', () => {
                    this.addHighlight();
                });

                // Close modals when clicking outside
                document.addEventListener('click', (e) => {
                    if (e.target.classList.contains('modal')) {
                        e.target.style.display = 'none';
                    }
                });

                // Escape key to close modals
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        document.querySelectorAll('.modal').forEach(modal => {
                            modal.style.display = 'none';
                        });
                    }
                });
            },

            // Switch between main views
            switchView: function(viewName) {
                // Update navigation
                document.querySelectorAll('.nav-btn').forEach(btn => {
                    btn.classList.remove('active');
                });
                document.querySelector(`[data-view="${viewName}"]`).classList.add('active');
                
                // Update views
                document.querySelectorAll('.app-view').forEach(view => {
                    view.classList.remove('active');
                });
                document.getElementById(viewName).classList.add('active');
                
                this.state.currentView = viewName;
            },

            // Switch between tabs within a view
            switchTab: function(tabName, viewElement) {
                // Update tab buttons
                const tabButtons = viewElement.querySelectorAll('.tab-btn');
                tabButtons.forEach(btn => {
                    btn.classList.remove('active');
                });
                viewElement.querySelector(`[data-tab="${tabName}"]`).classList.add('active');
                
                // Update tab content
                const tabContents = viewElement.querySelectorAll('.tab-content');
                tabContents.forEach(content => {
                    content.classList.remove('active');
                });
                viewElement.querySelector(`#${tabName}-content`).classList.add('active');
            },

            // Toggle between light and dark mode
            toggleTheme: function() {
                if (this.state.theme === 'light') {
                    document.body.classList.add('dark-mode');
                    this.state.theme = 'dark';
                    document.getElementById('modeToggle').innerHTML = '<i class="fas fa-sun"></i> Theme';
                    this.showNotification('Dark mode enabled', 'success');
                } else {
                    document.body.classList.remove('dark-mode');
                    this.state.theme = 'light';
                    document.getElementById('modeToggle').innerHTML = '<i class="fas fa-moon"></i> Theme';
                    this.showNotification('Light mode enabled', 'success');
                }
                this.saveUserData();
            },

            // Navigate to previous chapter
            previousChapter: function() {
                if (this.state.currentChapter > 1) {
                    this.state.currentChapter--;
                    this.updateVerseDisplay();
                    this.showNotification(`Now reading ${this.state.currentBook} ${this.state.currentChapter}`, 'info');
                } else {
                    this.showNotification('This is the first chapter', 'warning');
                }
            },

            // Navigate to next chapter
            nextChapter: function() {
                const maxChapters = this.bibleData.chapters[this.state.currentBook] || 21;
                if (this.state.currentChapter < maxChapters) {
                    this.state.currentChapter++;
                    this.updateVerseDisplay();
                    this.showNotification(`Now reading ${this.state.currentBook} ${this.state.currentChapter}`, 'info');
                } else {
                    this.showNotification('This is the last chapter', 'warning');
                }
            },

            // Update the displayed verse
            updateVerseDisplay: function() {
                const verseText = document.getElementById('verseText');
                const reference = document.getElementById('currentReference');
                
                // Simulate different translations
                const translations = {
                    'niv': 'For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.',
                    'esv': 'For God so loved the world, that he gave his only Son, that whoever believes in him should not perish but have eternal life.',
                    'kjv': 'For God so loved the world, that he gave his only begotten Son, that whosoever believeth in him should not perish, but have everlasting life.',
                    'nasb': 'For God so loved the world, that He gave His only Son, so that everyone who believes in Him will not perish, but have eternal life.',
                    'nlt': 'For God loved the world so much that he gave his one and only Son, so that everyone who believes in him will not perish but have eternal life.',
                    'csv': 'For God loved the world in this way: He gave his one and only Son, so that everyone who believes in him will not perish but have eternal life.',
                    'rsv': 'For God so loved the world that he gave his only Son, that whoever believes in him should not perish but have eternal life.',
                    'amp': 'For God so [greatly] loved and dearly prized the world, that He [even] gave His [One and] only begotten Son, so that whoever believes and trusts in Him [as Savior] shall not perish, but have eternal life.'
                };
                
                verseText.textContent = translations[this.state.currentVersion] || translations['niv'];
                reference.textContent = `${this.state.currentBook} ${this.state.currentChapter}:${this.state.currentVerse}`;
            },

            // Open the note creation modal
            openNoteModal: function() {
                document.getElementById('noteModal').style.display = 'flex';
                document.getElementById('noteText').value = '';
                document.getElementById('noteText').focus();
            },

            // Close the note modal
            closeNoteModal: function() {
                document.getElementById('noteModal').style.display = 'none';
            },

            // Save a new note
            saveNote: function() {
                const noteText = document.getElementById('noteText').value.trim();
                if (noteText) {
                    const newNote = {
                        id: Date.now(),
                        text: noteText,
                        reference: `${this.state.currentBook} ${this.state.currentChapter}:${this.state.currentVerse}`,
                        date: new Date().toLocaleDateString()
                    };
                    
                    this.state.notes.push(newNote);
                    this.saveUserData();
                    this.closeNoteModal();
                    this.showNotification('Note saved successfully!', 'success');
                    
                    // Update notes list if we're on the notes tab
                    if (this.state.currentView === 'study-tools') {
                        this.updateNotesList();
                    }
                }
            },

            // Update the displayed notes list
            updateNotesList: function() {
                const notesListContainer = document.getElementById('notesListContainer');
                
                if (this.state.notes.length === 0) {
                    notesListContainer.innerHTML = '<p class="text-center text-muted">No notes yet. Create your first note!</p>';
                    return;
                }
                
                let notesHTML = '';
                this.state.notes.forEach(note => {
                    notesHTML += `
                        <div class="card">
                            <h4>${note.reference}</h4>
                            <p>${note.text}</p>
                            <p class="text-muted">${note.date}</p>
                        </div>
                    `;
                });
                
                notesListContainer.innerHTML = notesHTML;
            },

            // Perform a search
            performSearch: function() {
                const searchTerm = document.getElementById('searchInput').value.trim();
                if (!searchTerm) return;
                
                this.showNotification(`Searching for "${searchTerm}"...`, 'info');
                
                // Simulate search results
                setTimeout(() => {
                    const searchResults = document.getElementById('searchResults');
                    searchResults.innerHTML = `
                        <div class="search-result-item">
                            <h4>John 3:16</h4>
                            <p>For God so loved the world that he gave his one and only Son, that whoever believes in him shall not perish but have eternal life.</p>
                        </div>
                        <div class="search-result-item">
                            <h4>1 John 4:8</h4>
                            <p>Whoever does not love does not know God, because God is love.</p>
                        </div>
                        <div class="search-result-item">
                            <h4>Romans 5:8</h4>
                            <p>But God demonstrates his own love for us in this: While we were still sinners, Christ died for us.</p>
                        </div>
                        <div class="search-result-item">
                            <h4>1 Corinthians 13:13</h4>
                            <p>And now these three remain: faith, hope and love. But the greatest of these is love.</p>
                        </div>
                    `;
                    
                    // Add click handlers to search results
                    searchResults.querySelectorAll('.search-result-item').forEach(item => {
                        item.addEventListener('click', () => {
                            const verseRef = item.querySelector('h4').textContent;
                            const [book, chapterVerse] = verseRef.split(' ');
                            const [chapter, verse] = chapterVerse.split(':');
                            
                            this.state.currentBook = book;
                            this.state.currentChapter = parseInt(chapter);
                            this.state.currentVerse = parseInt(verse);
                            
                            this.switchView('bible-reader');
                            this.updateVerseDisplay();
                            this.showNotification(`Now viewing ${verseRef}`, 'success');
                        });
                    });
                }, 800);
            },

            // Toggle audio playback
            toggleAudio: function() {
                const audioBtn = document.getElementById('audioPlayPause');
                const icon = audioBtn.querySelector('i');
                
                if (icon.classList.contains('fa-play')) {
                    icon.classList.remove('fa-play');
                    icon.classList.add('fa-pause');
                    this.showNotification('Audio playback started', 'info');
                } else {
                    icon.classList.remove('fa-pause');
                    icon.classList.add('fa-play');
                    this.showNotification('Audio playback paused', 'info');
                }
            },

            // Add highlight
            addHighlight: function() {
                const activeColor = document.querySelector('.color-option.active').getAttribute('data-color');
                const highlight = {
                    id: Date.now(),
                    color: activeColor,
                    reference: `${this.state.currentBook} ${this.state.currentChapter}:${this.state.currentVerse}`,
                    text: document.getElementById('verseText').textContent,
                    date: new Date().toLocaleDateString()
                };
                
                this.state.highlights.push(highlight);
                this.saveUserData();
                this.showNotification(`Verse highlighted in ${activeColor}!`, 'success');
                
                // Update highlights list if we're on the highlights tab
                if (this.state.currentView === 'study-tools') {
                    this.updateHighlightsList();
                }
            },

            // Update highlights list
            updateHighlightsList: function() {
                const highlightsListContainer = document.getElementById('highlightsListContainer');
                
                if (this.state.highlights.length === 0) {
                    highlightsListContainer.innerHTML = '<p class="text-center text-muted">No highlights yet. Highlight verses to see them here!</p>';
                    return;
                }
                
                let highlightsHTML = '';
                this.state.highlights.forEach(highlight => {
                    highlightsHTML += `
                        <div class="card">
                            <div style="background-color: ${highlight.color}20; padding: 10px; border-radius: 5px; border-left: 4px solid ${highlight.color};">
                                <p>${highlight.text}</p>
                            </div>
                            <h4 class="mt-1">${highlight.reference}</h4>
                            <p class="text-muted">${highlight.date} • ${highlight.color} highlight</p>
                        </div>
                    `;
                });
                
                highlightsListContainer.innerHTML = highlightsHTML;
            },

            // Open share modal
            openShareModal: function() {
                document.getElementById('shareModal').style.display = 'flex';
            },

            // Share as text
            shareAsText: function() {
                const verseText = document.getElementById('verseText').textContent;
                const reference = document.getElementById('currentReference').textContent;
                const shareText = `${reference} - ${verseText}`;
                
                // Simulate sharing
                if (navigator.share) {
                    navigator.share({
                        title: 'Bible Verse',
                        text: shareText
                    });
                } else {
                    // Fallback: copy to clipboard
                    navigator.clipboard.writeText(shareText).then(() => {
                        this.showNotification('Verse copied to clipboard!', 'success');
                    });
                }
                
                document.getElementById('shareModal').style.display = 'none';
            },

            // Share as image
            shareAsImage: function() {
                this.showNotification('Image sharing feature coming soon!', 'info');
                document.getElementById('shareModal').style.display = 'none';
            },

            // Show a notification
            showNotification: function(message, type = 'info') {
                const notificationArea = document.getElementById('notificationArea');
                const notification = document.createElement('div');
                notification.className = `notification ${type}`;
                notification.textContent = message;
                
                // Set background color based on type
                if (type === 'error') {
                    notification.style.background = 'var(--danger-color)';
                } else if (type === 'warning') {
                    notification.style.background = 'var(--warning-color)';
                } else if (type === 'success') {
                    notification.style.background = 'var(--success-color)';
                } else {
                    notification.style.background = 'var(--secondary-color)';
                }
                
                notificationArea.appendChild(notification);
                
                // Remove notification after 3 seconds
                setTimeout(() => {
                    notification.remove();
                }, 3000);
            },

            // Update the UI based on current state
            updateUI: function() {
                this.updateVerseDisplay();
                
                // Set initial theme
                if (this.state.theme === 'dark') {
                    document.body.classList.add('dark-mode');
                    document.getElementById('modeToggle').innerHTML = '<i class="fas fa-sun"></i> Theme';
                }
            },

            // Load user data from localStorage
            loadUserData: function() {
                const savedData = localStorage.getItem('verseCuratorData');
                if (savedData) {
                    const data = JSON.parse(savedData);
                    this.state.notes = data.notes || [];
                    this.state.highlights = data.highlights || [];
                    this.state.theme = data.theme || 'light';
                    this.state.user.plan = data.user?.plan || 'free';
                    this.state.user.joinYear = data.user?.joinYear || 2025;
                }
            },

            // Save user data to localStorage
            saveUserData: function() {
                localStorage.setItem('verseCuratorData', JSON.stringify({
                    notes: this.state.notes,
                    highlights: this.state.highlights,
                    theme: this.state.theme,
                    user: this.state.user
                }));
            },

            // Mobile App functionality
            mobileApp: {
                download: function(platform) {
                    if (platform === 'ios') {
                        VerseCuratorApp.showNotification('Redirecting to App Store...', 'info');
                    } else if (platform === 'android') {
                        VerseCuratorApp.showNotification('Redirecting to Google Play...', 'info');
                    }
                }
            },

            // API functionality
            api: {
                getKey: function() {
                    VerseCuratorApp.showNotification('API key request sent. Check your email.', 'success');
                }
            },

            // Premium functionality
            premium: {
                upgrade: function(plan) {
                    VerseCuratorApp.showNotification(`Upgrading to ${plan} plan...`, 'success');
                    // In a real app, this would redirect to payment processing
                }
            },

            // Share functionality
            share: {
                facebook: function() {
                    VerseCuratorApp.showNotification('Sharing to Facebook...', 'info');
                    document.getElementById('shareModal').style.display = 'none';
                },
                twitter: function() {
                    VerseCuratorApp.showNotification('Sharing to Twitter...', 'info');
                    document.getElementById('shareModal').style.display = 'none';
                },
                instagram: function() {
                    VerseCuratorApp.showNotification('Instagram sharing prepared!', 'info');
                    document.getElementById('shareModal').style.display = 'none';
                }
            }
        };

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            VerseCuratorApp.init();
        });
    </script>
</body>
</html>
